@model ITLab.Models.Session

@{
    ViewData["Title"] = "Index";
}
    <asp:ContentPlaceHolder ID="NavStyle" runat="server">
        <link href="~/css/normalNav.css" rel="stylesheet" />
    </asp:ContentPlaceHolder>

    <div class="container" style="margin-top: 10px;">
        <div class="jumbotron">
            <h1 class="display-4">@Model.Title</h1>
            <p class="lead">@Model.Description</p>
            <hr class="my-4">
            <p class="lead">Alles wat je moet weten</p>
            <div class="card" style="width: 50%;">
                <ul class="list-group list-group-flush list-group-item-dark">
                    <li style="margin-bottom:5px;" class="list-group-item">Spreker: <strong>@Model.Nameguest</strong></li>
                    <li style="margin-bottom:5px;" class="list-group-item">Wanneer: @Model.Eventdate.ToShortDateString() van @(string.Format("{0:00}:{1:00}", Model.Starthour.Hours, Model.Endhour.Minutes)) tot @(string.Format("{0:00}:{1:00}", Model.Endhour.Hours, Model.Endhour.Minutes))</li>
                    <li style="margin-bottom:5px;" class="list-group-item">Waar: @Model.ClassroomClassid</li>
                    <li class="list-group-item">Aantal inschrijvingen: @Model.RegisterdUser.Count/@Model.Maxattendee</li>
                </ul>
            </div>
            <p class="lead" style="margin-top: 10px;">

                @if ((bool)ViewData["NoUserLoggedIn"] == true)
                {
                    <a class="btn btn-primary" asp-controller="Calendar" asp-action="Index" role="button">Terug</a>
                }
                else
                {

                    @if (Model.SeatsAvailable() > 0)
                    {
                        @if ((bool)ViewData["UserAlreadyRegistered"] == false)
                        {
                            <a class="btn btn-success" style="margin-right: 10px;" asp-controller="Session" asp-action="RegisterForSession" role="button">Inschrijven</a>
                            <a class="btn btn-primary" asp-controller="Calendar" asp-action="Index" role="button">Terug</a>
                        }
                        else
                        {
                            <a class="btn btn-success" style="margin-right: 10px;" href="#" role="button">Uitschrijven</a>
                            <a class="btn btn-primary" asp-controller="Calendar" asp-action="Index" role="button">Terug</a>
                        }
                    }
                    else
                    {
                    <p style="margin-right: 10px; color:red;">Deze sessie is volzet.</p>
                    <a class="btn btn-primary" asp-controller="Calendar" asp-action="Index" role="button">Terug</a>
                }

                }
                <a class="btn btn-primary" asp-controller="Feedback" asp-action="Index" asp-route-id="@Model.Id" role="button">Feedback</a>

                <div class="container">
                    @if (TempData["message"] != null)
                    {
                        <div class="alert alert-success">@TempData["message"]</div>
                    }
                    @if (TempData["error"] != null)
                    {
                        <div class="alert alert-warning">@TempData["error"]</div>
                    }
                </div>
            </div>
        </div>
